"use strict";(self["webpackChunkhbo_app"]=self["webpackChunkhbo_app"]||[]).push([[575],{575:function(e,t,a){a.r(t),a.d(t,{default:function(){return $}});var r=a(6768);const s={class:"search-view"};function o(e,t,a,o,i,n){const l=(0,r.g2)("SearchBar"),c=(0,r.g2)("SearchResults");return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(l,{onSearch:n.fetchMoviesAndTV},null,8,["onSearch"]),(0,r.bF)(c,{movies:i.movies,tvShows:i.tvShows},null,8,["movies","tvShows"])])}var i=a(4232),n=a(5130),l=a(1721);const c=e=>((0,r.Qi)("data-v-5b5b1956"),e=e(),(0,r.jt)(),e),h={class:"search-bar"},u=c((()=>(0,r.Lk)("img",{src:l,class:"search-icon"},null,-1)));function d(e,t,a,s,o,l){return(0,r.uX)(),(0,r.CE)("div",{class:(0,i.C4)(["search-bar-container",{"search-bar-top":o.searchQuery}])},[(0,r.Lk)("div",h,[u,(0,r.bo)((0,r.Lk)("input",{type:"text",placeholder:"Find movies, shows, and more...","onUpdate:modelValue":t[0]||(t[0]=e=>o.searchQuery=e),onInput:t[1]||(t[1]=(...e)=>l.emitSearch&&l.emitSearch(...e))},null,544),[[n.Jo,o.searchQuery]])])],2)}var v={name:"SearchBar",data(){return{searchQuery:""}},methods:{emitSearch(){this.$emit("search",this.searchQuery)}}},m=a(1241);const p=(0,m.A)(v,[["render",d],["__scopeId","data-v-5b5b1956"]]);var g=p;const A=e=>((0,r.Qi)("data-v-4509e55f"),e=e(),(0,r.jt)(),e),w={class:"search-results"},S={key:0},f=A((()=>(0,r.Lk)("h2",null,"Movies",-1))),_={class:"media-grid"},k=["onClick"],y=["src"],C={key:1},b=A((()=>(0,r.Lk)("h2",null,"TV Series",-1))),I={class:"media-grid"},Q=["onClick"],U=["src"];function E(e,t,a,s,o,n){return(0,r.uX)(),(0,r.CE)("div",w,[a.movies.length?((0,r.uX)(),(0,r.CE)("section",S,[f,(0,r.Lk)("div",_,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.movies,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.movieID,class:"media-card",onClick:t=>n.navigateToMedia(e)},[(0,r.Lk)("img",{src:e.imageUrl||o.placeholderImage,alt:"Movie Poster"},null,8,y),(0,r.Lk)("p",null,(0,i.v_)(e.title||"Untitled"),1)],8,k)))),128))])])):(0,r.Q3)("",!0),a.tvShows.length?((0,r.uX)(),(0,r.CE)("section",C,[b,(0,r.Lk)("div",I,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.tvShows,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.movieID,class:"media-card",onClick:t=>n.navigateToMedia(e)},[(0,r.Lk)("img",{src:e.imageUrl||o.placeholderImage,alt:"TV Poster"},null,8,U),(0,r.Lk)("p",null,(0,i.v_)(e.title||"Untitled"),1)],8,Q)))),128))])])):(0,r.Q3)("",!0)])}a(4114);var R={name:"SearchResults",props:{movies:{type:Array,default:()=>[]},tvShows:{type:Array,default:()=>[]}},data(){return{placeholderImage:a(8381)}},methods:{navigateToMedia(e){const t="tv"===e.type?`/series/${e.movieID}`:`/movie/${e.movieID}`;this.$router.push(t)}}};const X=(0,m.A)(R,[["render",E],["__scopeId","data-v-4509e55f"]]);var D=X;const F="cfd0f90ef11421b744113aec2cdad0fe",L=async e=>{if(!e||""===e.trim())return console.warn("Search query is empty."),{movies:[],tvShows:[]};try{const[t,a]=await Promise.all([fetch(`https://api.themoviedb.org/3/search/movie?include_adult=true&api_key=${F}&query=${encodeURIComponent(e)}&language=en-US&region=US&include_image_language=en&include_adult=true&with_original_language=en&page=1&per_page=40`),fetch(`https://api.themoviedb.org/3/search/tv?api_key=${F}&query=${encodeURIComponent(e)}&language=en-US&include_adult=true&page=1&per_page=40`)]);if(!t.ok||!a.ok)throw new Error("Failed to fetch search results.");const[r,s]=await Promise.all([t.json(),a.json()]),o=(r.results||[]).filter((e=>e.poster_path&&"en"==e.original_language)).map((e=>({movieID:e.id,title:e.title||e.original_title||"Untitled",imageUrl:`https://image.tmdb.org/t/p/w500${e.poster_path}`,type:"movie"}))),i=(s.results||[]).filter((e=>e.poster_path&&"en"==e.original_language)).map((e=>({movieID:e.id,title:e.name||e.original_name||"Untitled",imageUrl:`https://image.tmdb.org/t/p/w500${e.poster_path}`,type:"tv"})));return console.log("Raw Movies Data:",r),console.log("Raw TV Shows Data:",s),{movies:o,tvShows:i}}catch(t){throw console.error("Error fetching search results:",t),t}};var T={name:"SearchView",components:{SearchBar:g,SearchResults:D},data(){return{movies:[],tvShows:[]}},methods:{async fetchMoviesAndTV(e){if(!e.trim())return this.movies=[],void(this.tvShows=[]);try{const{movies:t,tvShows:a}=await L(e);this.movies=t,this.tvShows=a}catch(t){console.error("Error fetching movies/TV series:",t)}}}};const V=(0,m.A)(T,[["render",o],["__scopeId","data-v-07a2c09e"]]);var $=V},8381:function(e){e.exports="data:image/webp;base64,UklGRrAAAABXRUJQVlA4WAoAAAAQAAAAEwAAEwAAQUxQSFwAAAABcFpt27K8v1v+JmAE1mMCbX+F7rCGp7/hjEC0G/+9R8QESParg/VqFqdyAYhTh/t+H6cHXYndgzCOUlPoKKX/E/D9mshZ/nV6vTNsevW/RKQHocQuh3YU1eKlD1ZQOCAuAAAA0AIAnQEqFAAUAD6RNKRSJaIjo5QAsBIJaQAAPi88AAD++FBf/2r4+j//3u8AAA=="}}]);
//# sourceMappingURL=575.d685fc37.js.map